<html>
<head>
	<meta charset="UTF-8">
	<title>第三课-单张图的图片轮播</title>
	<script type="text/javascript" src="../src/js/jquery-3.0.0.js"></script>
	<script type="text/javascript">
/**
 * @CreateBy:   SublimeText3
 * @Author:     poetries
 * @DateTime:	2016-06-23 20:14:16
 */

$(function(){

 var oul = $('.wrap ul');
 var numLi = $('.wrap ol li'); 
 var ali = $('.wrap ul li'); 	
 var aliWidth = $('.wrap ul li').eq(0).width();
 var _now = 0;//这里是控制数字样式的计数器
 var _now2 = 0;//这个是控制图片运动距离的计数器
 var timeId = null;

 // alert(ali);//500
 numLi.click(function(){
 	var index = $(this).index();
 	_now = index;
 	_now2 = index;
 	$(this).addClass('current').siblings().removeClass();
 	oul.animate({
 		//json格式
 		'left':-aliWidth*index
 	},500);
 });
 function slide(){
  	if(_now == numLi.length-1){
  		ali.eq(0).css({
  			'position':'relative',//用了relative 第一个图片的位置还保留
  			'left':oul.width()//把第一张图片移动到最后
  		});
  		_now = 0;
  	}else{
  		_now++;
  	}
  	_now2++;

  	$('.wrap ul li').eq(_now).addClass('current').siblings().removeClass();
  	oul.animate({'left':-aliWidth*_now2},500,function(){
  		//回调函数 运动完后执行
  		
  		if(_now == 0){
  			ali.eq(0).css('position','static');//去掉relative属性);
  			oul.css('left', 0);
  			_now2 = 0;
  		}
  	});

  }

 timeId = setInterval(slide,2000);



//鼠标移入移出
$('.wrap').mouseover(function(){
	clearInterval(timeId);
}).mouseout(function(){
	timeId = setInterval(slide,2000);
});



});
	</script>
	<style type="text/css">
		*{
			padding: 0;
			margin: 0 auto;
		}
		body{margin: 50px;}
		.wrap ul li{
			list-style: none;
			float: left;
			width: 500px;
		}
		.wrap{
			width: 500px;
			height: 350px;
			border: 3px solid red;
			cursor: pointer;
			overflow: hidden;
			position: relative;
		}
		.wrap ul{
			width:  2000px;
			/*要使某个元素具有移动属性 必须有position*/
			position: absolute;
			top: 0;
			left: 0;
		}
		.wrap ol{
			position: absolute;
			bottom: 10px;
			right: 10px;
		}

		.wrap ol li{
			float: left;
			width: 16px;
			height: 16px;
			list-style: none;
			line-height: 16px;
			text-align: center;
			border: 1px solid yellow;
			background: #000;
			color: white;
			margin-right: 3px;
			cursor: pointer;
		}
		.wrap ol li.current{
			background: #fff;
			color: #000;
		}
	</style>

</head>
<body>
	
	<div class="wrap">
		<ul>
			<li><img src="../src/img/lession3/1.jpg" alt=""></li>
			<li><img src="../src/img/lession3/2.jpg" alt=""></li>
			<li><img src="../src/img/lession3/3.jpg" alt=""></li>
			<li><img src="../src/img/lession3/4.jpg" alt=""></li>
		</ul>
		<ol class="current">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
		</ol>
	</div>

</body>
</html>